<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>STORE | RUYKYU TPS GAMERTEME</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../css/prats.css">
</head>
<body>
  <header id="header">
    <div class="inner wrapper">
      <h1 class="logo">
        <a href="main.html"><img src="../img/KJIC3947.PNG" alt="RUYKYU TPS GAMERTEME Web Site"></a>
      </h1>
      <nav>
        <ul>
          <li><a href="main.html">HOME</a></li>
          <li><a href="main.html#news">NEWS</a></li>
          <li><a href="main.html#about">ABOUT</a></li>
          <li><a href="main.html#business">TEAM</a></li>
          <li><a href="main.html#company">COMPANY</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="wrapper">
    <h2 class="section-title">
      <span class="en">STORE</span>
      <span class="ja">ストア</span>
    </h2>
 <div class="store-grid">
     <div class="store-item"><img src="../img/T.png" alt="商品1"><p class="title">Tシャツ</p><p class="price">¥1,000</p></div>
      <div class="store-item"><img src="../img/item2.png" alt="商品2"><p class="title">ハンカチ</p><p class="price">¥2,000</p></div>
      <div class="store-item"><img src="../img/item3.png" alt="商品3"><p class="title">タオル</p><p class="price">¥3,000</p></div>

      <div class="store-item"><img src="../img/item4.png" alt="商品4"><p class="title">ハンドバック</p><p class="price">¥4,000</p></div>
      <div class="store-item"><img src="../img/item5.png" alt="商品5"><p class="title">Yシャツ</p><p class="price">¥5,000</p></div>
      <div class="store-item"><img src="../img/item6.png" alt="商品6"><p class="title">帽子</p><p class="price">¥6,000</p></div>

    
  <footer id="footer">


    <!-- 準備中メッセージ（固定表示） -->
    <div class="store-message" style="text-align:center; margin:8px 0; color:#d33;">
      <p>現在は準備中です。公開までしばらくお待ちください。</p>
    </div>
  </main>

  <!-- モーダル -->
  <div class="modal-backdrop" id="modalBackdrop" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h3 id="modalTitle">現在は準備中です</h3>
      <p id="modalBody">公開までしばらくお待ちください。</p>
      <a href="#" class="btn" id="modalCloseBtn">閉じる</a>
    </div>
  </div>

  <footer id="footer">
    <div class="wrapper">
      <p class="copyright">&copy; RUYKYU TPS GAMERTEME Inc.</p>
    </div>
  </footer>

  <!-- スクリプトは body の最後にまとめる -->
  <script>
    // リロード時は HOME に戻す（window.onload より DOMContentLoaded/visibilitystate の方が安定）
    document.addEventListener("DOMContentLoaded", function() {
      const navEntries = performance.getEntriesByType("navigation");
      const isReload = navEntries.length && navEntries[0].type === "reload";
      if (isReload) {
        window.location.href = "main.html";
        return;
      }

      // 商品クリックでモーダル表示
      const items = document.querySelectorAll(".store-item");
      const backdrop = document.getElementById("modalBackdrop");
      const modalBody = document.getElementById("modalBody");
      const closeBtn = document.getElementById("modalCloseBtn");

      items.forEach(item => {
        item.addEventListener("click", () => {
          const name = item.getAttribute("data-name") || "この商品";
          modalBody.textContent = `${name}は現在準備中です。公開までしばらくお待ちください。`;
          backdrop.style.display = "flex";
          backdrop.setAttribute("aria-hidden", "false");
        });
      });

      // モーダルを閉じる
      function closeModal() {
        backdrop.style.display = "none";
        backdrop.setAttribute("aria-hidden", "true");
      }
      closeBtn.addEventListener("click", (e) => {
        e.preventDefault();
        closeModal();
      });
      backdrop.addEventListener("click", (e) => {
        if (e.target === backdrop) closeModal();
      });
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") closeModal();
      });
    });
  </script>
</body>
</html>